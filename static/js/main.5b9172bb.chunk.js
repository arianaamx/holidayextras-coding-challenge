(this["webpackJsonpholidayextras-coding-challenge"]=this["webpackJsonpholidayextras-coding-challenge"]||[]).push([[0],{20:function(e,n,t){},26:function(e,n,t){"use strict";t.r(n);var i,a,c,r=t(0),o=t(10),s=t.n(o),d=(t(20),t(2)),l=t(4),h=t(3),x="#F2F2F2",b="#8e80ff",p=t(1);var j,g,u,m,f,O=function(e){var n=e.setSearchByTag;return Object(p.jsx)(w,{children:Object(p.jsxs)(v,{children:[Object(p.jsx)("h2",{children:"Flickr Photo Stream"}),Object(p.jsx)(y,{type:"text",placeholder:"Search by tags...",onChange:function(e){n(e.target.value?e.target.value:"")}})]})})},w=h.a.div(i||(i=Object(d.a)(["\n  width: 100%;\n  background-color: white;\n  line-height: 3em;\n\n  -webkit-box-shadow: 0px 1px 1px ",";\n  -moz-box-shadow: 0px 1px 1px ",";\n  box-shadow: 0px 2px 2px ",";\n\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n\n  @media (max-width: 500px) {\n    line-height: 1.5em;\n  }\n"])),x,x,x),v=h.a.div(a||(a=Object(d.a)(["\n  margin: 5px 20px;\n  max-width: 1200px;\n  width: 100%;\n\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n"]))),y=h.a.input(c||(c=Object(d.a)(["\n  padding: 5px 10px;\n  border-radius: 5px;\n  border: 3px solid ",";\n"])),b);var k,F,I=function(e){var n=e.title,t=e.author,i=(e.description,e.tags),a=e.link,c=e.media;return Object(p.jsxs)(T,{children:[Object(p.jsx)(B,{src:c,alt:""}),Object(p.jsxs)(S,{children:[Object(p.jsx)("a",{href:a,children:Object(p.jsx)(M,{children:n})})," ","by ",Object(p.jsx)(M,{children:(t.match(/"(.+)"/)||[])[1]})]}),Object(p.jsxs)(H,{children:["Tags: ",function(e){return e?e.replace(" ",", "):"-"}(i)]})]})},T=h.a.div(j||(j=Object(d.a)(["\n  text-align: left;\n  padding: 10px 10px;\n  background-color: white;\n  border-radius: 5px;\n  border: 3px solid ",";\n  margin: 5px 5px;\n\n  width: 250px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);\n\n  /* Display inline-block so the columns don't break the element */\n  display: inline-block;\n"])),"#d9d4ff"),B=h.a.img(g||(g=Object(d.a)(["\n  width: 250px;\n  height: 200px;\n  object-fit: cover;\n"]))),S=h.a.p(u||(u=Object(d.a)(["\n  height: 3em;\n  overflow: hidden;\n"]))),M=h.a.span(m||(m=Object(d.a)(["\n  font-weight: 600;\n  text-decoration: underline;\n  color: ",";\n\n  display: inline-block;\n  vertical-align: bottom;\n  height: 1.5em;\n  overflow: hidden;\n"])),b),H=h.a.p(f||(f=Object(d.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  /* number of lines to show */\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n"]))),E=t(14),z=t.n(E),J=function(e){var n=e.setFetchedImages,t=e.searchByTag,i=e.fetchedImages,a=e.setHasMore,c=t||"";z()("https://api.flickr.com/services"+"/feeds/photos_public.gne?format=json&tags=".concat(c),{name:"jsonFlickrFeed"},(function(e,t){if(e)console.log(e);else{var c=t.items;i&&(c=function(e){var n=e.oldImages,t=e.newImages,i=e.setHasMore,a=n.slice(0),c=t.filter((function(e){return!n.some((function(n){return e.description===n.description}))}));return 0===c.length&&void 0!==i&&i(!1),a.concat(c)}({oldImages:i,newImages:t.items,setHasMore:a})),n(c)}}))},L=t(15);var A,C,D=function(e){var n=e.searchByTag,t=Object(r.useState)([]),i=Object(l.a)(t,2),a=i[0],c=i[1],o=Object(r.useState)(!0),s=Object(l.a)(o,2),d=s[0],h=s[1];return Object(r.useEffect)((function(){J({setFetchedImages:c})}),[]),Object(r.useEffect)((function(){J({setFetchedImages:c,searchByTag:n})}),[n]),Object(p.jsx)(P,{children:Object(p.jsx)(L.a,{dataLength:a.length,hasMore:d,height:"90vh",next:function(){J({setFetchedImages:c,fetchedImages:a,setHasMore:h})},loader:Object(p.jsx)("h2",{children:"Loading more images..."}),endMessage:Object(p.jsx)("h3",{style:{textAlign:"center",marginTop:"20px"},children:Object(p.jsx)("b",{children:"You have seen all popular photos!"})}),children:Object(p.jsx)(Y,{children:void 0!==a&&a.map((function(e,n){return Object(p.jsx)(I,{title:e.title,description:e.description,author:e.author,link:e.link,tags:e.tags,media:e.media.m},n)}))})})})},P=h.a.div(k||(k=Object(d.a)(["\n  background-color: ",";\n  flex: 1;\n\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 20px 20px;\n"])),"#F8F7FF"),Y=h.a.div(F||(F=Object(d.a)(["\n  max-width: 1200px;\n  column-count: 4;\n  text-align: center;\n\n  @media (max-width: 1300px) {\n    columns: 3;\n  }\n\n  @media (max-width: 950px) {\n    columns: 2;\n  }\n\n  @media (max-width: 650px) {\n    columns: 1;\n  }\n"])));var _=function(){var e=Object(r.useState)(null),n=Object(l.a)(e,2),t=n[0],i=n[1];return Object(p.jsxs)(q,{children:[Object(p.jsx)(G,{children:Object(p.jsx)(O,{setSearchByTag:i})}),Object(p.jsx)(D,{searchByTag:t})]})},q=h.a.div(A||(A=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n"]))),G=h.a.header(C||(C=Object(d.a)(["\n  z-index: 10;\n"])));s.a.render(Object(p.jsx)(_,{}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.5b9172bb.chunk.js.map